<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Малярний Двір - Професійні фарби Teknos та AURA</title>
    
    <!-- Мета теги для SEO -->
    <meta name="description" content="Якісні фарби Teknos (Фінляндія) та AURA (Україна). Професійні рішення для інтер'єру та екстер'єру. Безкоштовний підбір кольорів.">
    <meta name="keywords" content="фарби, teknos, aura, фарба інтер'єрна, фасадна фарба, будівельні матеріали">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary-color: #64748b;
            --success-color: #16a34a;
            --warning-color: #ea580c;
            --danger-color: #dc2626;
            --gray-50: #f8fafc;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-500: #64748b;
            --gray-800: #1e293b;
            --gray-900: #0f172a;
            --white: #ffffff;
            --border-radius: 8px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--gray-800);
            background: var(--gray-50);
        }

        /* === ЗАГОЛОВОК === */
        .header {
            background: var(--white);
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .nav-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid var(--gray-200);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 700;
            font-size: 1.5rem;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .nav-contact {
            display: flex;
            align-items: center;
            gap: 2rem;
            font-size: 0.9rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--gray-500);
        }

        .contact-item strong {
            color: var(--gray-800);
        }

        /* Навігація */
        .nav-main {
            display: flex;
            gap: 2rem;
            padding: 0.75rem 0;
        }

        .nav-link {
            color: var(--gray-800);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: all 0.2s ease;
            position: relative;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--primary-color);
            background: rgba(37, 99, 235, 0.1);
        }

        /* === ОСНОВНИЙ КОНТЕНТ === */
        .main {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-header {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 1rem;
        }

        .section-description {
            font-size: 1.1rem;
            color: var(--gray-500);
            max-width: 600px;
        }

        /* === ФІЛЬТРИ (КОМПАКТНІ) === */
        .filters-section {
            background: var(--white);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            margin-bottom: 2rem;
        }

        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .filters-title {
            font-weight: 600;
            color: var(--gray-900);
        }

        .filters-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            font-weight: 500;
        }

        .filters-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr auto;
            gap: 1rem;
            align-items: end;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-label {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--gray-700);
            margin-bottom: 0.5rem;
        }

        .filter-input,
        .filter-select {
            padding: 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            transition: border-color 0.2s;
            background: var(--white);
        }

        .filter-input:focus,
        .filter-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .filters-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* === КНОПКИ === */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .btn-primary {
            background: var(--primary-color);
            color: var(--white);
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--gray-300);
            color: var(--gray-700);
        }

        .btn-outline:hover {
            background: var(--gray-100);
            border-color: var(--gray-400);
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
        }

        /* === СІТКА ТОВАРІВ/СТАТЕЙ === */
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .item-card {
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            transition: all 0.2s ease;
            border: 1px solid var(--gray-200);
        }

        .item-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .item-image {
            width: 100%;
            height: 200px;
            background: var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--gray-400);
            position: relative;
            overflow: hidden;
        }

        .item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .item-content {
            padding: 1.5rem;
        }

        .item-badge {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: var(--primary-color);
            color: var(--white);
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .item-badge.teknos {
            background: #0066cc;
        }

        .item-badge.aura {
            background: #ff6b35;
        }

        .item-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .item-description {
            color: var(--gray-600);
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .item-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .item-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .item-package {
            background: var(--gray-100);
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            color: var(--gray-600);
            font-weight: 500;
        }

        .item-features {
            list-style: none;
            margin-bottom: 1rem;
        }

        .item-features li {
            font-size: 0.85rem;
            color: var(--gray-600);
            margin-bottom: 0.25rem;
        }

        .item-features li:before {
            content: "✓";
            color: var(--success-color);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        .item-actions {
            display: flex;
            gap: 0.75rem;
        }

        .item-actions .btn {
            flex: 1;
            justify-content: center;
        }

        /* === СТАТТІ === */
        .article-card .item-meta {
            margin-bottom: 0.5rem;
        }

        .article-date {
            font-size: 0.85rem;
            color: var(--gray-500);
        }

        .article-status {
            font-size: 0.8rem;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-weight: 500;
        }

        .article-status.published {
            background: rgba(22, 163, 74, 0.1);
            color: var(--success-color);
        }

        .article-status.draft {
            background: rgba(234, 88, 12, 0.1);
            color: var(--warning-color);
        }

        /* === ЗАВАНТАЖЕННЯ === */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3rem;
            color: var(--gray-500);
        }

        .loading-spinner {
            width: 32px;
            height: 32px;
            border: 3px solid var(--gray-300);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--gray-500);
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        /* === АДАПТИВНІСТЬ === */
        @media (max-width: 768px) {
            .nav-top {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .nav-contact {
                justify-content: center;
                flex-wrap: wrap;
                gap: 1rem;
            }

            .nav-main {
                justify-content: center;
                flex-wrap: wrap;
            }

            .section-title {
                font-size: 2rem;
            }

            .filters-toggle {
                display: block;
            }

            .filters-content {
                display: none;
                grid-template-columns: 1fr;
                gap: 1rem;
                margin-top: 1rem;
            }

            .filters-content.show {
                display: grid;
            }

            .filters-actions {
                grid-column: 1 / -1;
                justify-content: center;
            }

            .items-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .main {
                padding: 0 0.5rem;
            }

            .filters-section,
            .item-card {
                margin: 0 0.5rem;
            }

            .item-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- === ЗАГОЛОВОК === -->
    <header class="header">
        <div class="nav-container">
            <div class="nav-top">
                <a href="#" class="logo">
                    <div class="logo-icon">🎨</div>
                    <span>МАЛЯРНИЙ</span>
                </a>
                
                <div class="nav-contact">
                    <div class="contact-item">
                        📞 <strong>+380637702457</strong>
                    </div>
                    <div class="contact-item">
                        ⏰ <strong>Пн-Пт: 9:00-18:00 Сб : 9:00-15:00 Нд : вихідний </strong>
                    </div>
                    <div class="contact-item">
                        📍 <strong>Івано-Франківськ</strong>
                    </div>
                </div>
            </div>

            <nav class="nav-main">
                <a href="#" class="nav-link active" onclick="showSection('home')">🏠 Головна</a>
                <a href="#" class="nav-link" onclick="showSection('materials')">🛍️ Матеріали</a>
                <a href="#" class="nav-link" onclick="showSection('articles')">📝 Статті</a>
                <a href="#" class="nav-link" onclick="showSection('about')">ℹ️ Про нас</a>
                <a href="#" class="nav-link" onclick="showSection('contact')">📞 Контакти</a>
                <a href="admin.html" class="nav-link" style="color: var(--primary-color);">⚙️ Адмін</a>
            </nav>
        </div>
    </header>

    <!-- === ОСНОВНИЙ КОНТЕНТ === -->
    <main class="main">
        
        <!-- === ГОЛОВНА СТОРІНКА === -->
        <section id="home-section" class="section active">
            <div class="section-header">
                <h1 class="section-title">Професійні фарби для вашого дому</h1>
                <p class="section-description">
                    Якісні фарби Teknos (Фінляндія) та AURA (Україна). Широкий асортимент для інтер'єру та екстер'єру. 
                    Безкоштовна консультація з підбору кольорів.
                </p>
            </div>

            <div class="items-grid" id="home-products">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    Завантаження товарів...
                </div>
            </div>

            <div style="text-align: center; margin-top: 2rem;">
                <a href="#" onclick="showSection('materials')" class="btn btn-primary">
                    Переглянути всі матеріали
                </a>
            </div>
        </section>

        <!-- === МАТЕРІАЛИ === -->
        <section id="materials-section" class="section">
            <div class="section-header">
                <h1 class="section-title">Каталог матеріалів</h1>
                <p class="section-description">
                    Повний асортимент професійних фарб та матеріалів для будь-яких робіт
                </p>
            </div>

            <!-- Компактні фільтри -->
            <div class="filters-section">
                <div class="filters-header">
                    <h3 class="filters-title">Фільтри пошуку</h3>
                    <button class="filters-toggle" onclick="toggleFilters()">
                        <span id="filters-toggle-text">Показати фільтри</span>
                    </button>
                </div>
                
                <div class="filters-content" id="filters-content">
                    <div class="filter-group">
                        <label class="filter-label">🔍 Пошук</label>
                        <input 
                            type="text" 
                            class="filter-input" 
                            id="search-input"
                            placeholder="Назва товару..." 
                            onkeyup="filterMaterials()"
                        >
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">🏷️ Бренд</label>
                        <select class="filter-select" id="brand-filter" onchange="filterMaterials()">
                            <option value="">Всі бренди</option>
                            <option value="teknos">Teknos</option>
                            <option value="aura">AURA</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">📂 Категорія</label>
                        <select class="filter-select" id="category-filter" onchange="filterMaterials()">
                            <option value="">Всі категорії</option>
                            <option value="interior">Інтер'єр</option>
                            <option value="exterior">Екстер'єр</option>
                            <option value="wood">Для дерева</option>
                            <option value="eco">Еко-фарби</option>
                        </select>
                    </div>
                    
                    <div class="filters-actions">
                        <button class="btn btn-outline btn-sm" onclick="clearFilters()">
                            🗑️ Очистити
                        </button>
                    </div>
                </div>
            </div>

            <div class="items-grid" id="materials-grid">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    Завантаження матеріалів...
                </div>
            </div>
        </section>

        <!-- === СТАТТІ === -->
        <section id="articles-section" class="section">
            <div class="section-header">
                <h1 class="section-title">Корисні статті</h1>
                <p class="section-description">
                    Поради експертів, інструкції та останні новини світу фарб
                </p>
            </div>

            <div class="items-grid" id="articles-grid">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    Завантаження статей...
                </div>
            </div>
        </section>

        <!-- === ПРО НАС === -->
        <section id="about-section" class="section">
            <div class="section-header">
                <h1 class="section-title">Про PaintYard</h1>
            </div>
            
            <div style="background: var(--white); padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 1.5rem;">
                    <strong>PaintYard</strong> - ваш надійний партнер у світі професійних фарб та матеріалів. 
                    Ми спеціалізуємось на постачанні якісної продукції від провідних виробників.
                </p>
                
                <h3 style="color: var(--primary-color); margin-bottom: 1rem;">🎯 Наші переваги:</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.75rem;"><strong>✓</strong> Офіційний дистриб'ютор Teknos та AURA</li>
                    <li style="margin-bottom: 0.75rem;"><strong>✓</strong> Безкоштовна консультація з підбору кольорів</li>
                    <li style="margin-bottom: 0.75rem;"><strong>✓</strong> Швидка доставка по всій Україні</li>
                    <li style="margin-bottom: 0.75rem;"><strong>✓</strong> Професійна технічна підтримка</li>
                </ul>
            </div>
        </section>

        <!-- === КОНТАКТИ === -->
        <section id="contact-section" class="section">
            <div class="section-header">
                <h1 class="section-title">Контактна інформація</h1>
            </div>
            
            <div class="items-grid">
                <div style="background: var(--white); padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                    <h3 style="color: var(--primary-color); margin-bottom: 1rem;">📍 Адреса</h3>
                    <p>м. Івано-Франківськ<br>вул. Вовчинецька, 191</p>
                </div>
                
                <div style="background: var(--white); padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                    <h3 style="color: var(--primary-color); margin-bottom: 1rem;">📞 Телефони</h3>
                    <p><strong>+380637702457</strong><br>+380687702457</p>
                </div>
                
                <div style="background: var(--white); padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                    <h3 style="color: var(--primary-color); margin-bottom: 1rem;">⏰ Робочі години</h3>
                    <p>Пн-Пт: 9:00 - 18:00<br>Сб: 9:00 - 15:00<br>Нд: Вихідний</p>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Глобальні змінні
        let allProducts = [];
        let allArticles = [];
        let filteredProducts = [];

        // Ініціалізація при завантаженні сторінки
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
        });

        // === НАВІГАЦІЯ ===
        function showSection(sectionName) {
            // Приховуємо всі секції
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Показуємо потрібну секцію
            document.getElementById(sectionName + '-section').classList.add('active');
            
            // Оновлюємо активний пункт меню
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');

            // Завантажуємо дані для конкретної секції
            if (sectionName === 'materials') {
                renderMaterials(allProducts);
            } else if (sectionName === 'articles') {
                renderArticles(allArticles);
            }
        }

        // === ЗАВАНТАЖЕННЯ ДАНИХ ===
        async function loadData() {
            try {
                // Завантажуємо товари
                const productsResponse = await fetch('database/products.json');
                const productsData = await productsResponse.json();
                allProducts = productsData.products || [];
                
                // Завантажуємо статті
                const articlesResponse = await fetch('database/articles.json');
                const articlesData = await articlesResponse.json();
                allArticles = articlesData.articles?.filter(article => article.status === 'published') || [];
                
                // Рендеримо дані
                renderHomeProducts();
                
            } catch (error) {
                console.error('Помилка завантаження даних:', error);
                showErrorMessage('Не вдалося завантажити дані. Перевірте підключення.');
            }
        }

        // === РЕНДЕРИНГ ТОВАРІВ НА ГОЛОВНІЙ ===
        function renderHomeProducts() {
            const container = document.getElementById('home-products');
            
            if (!allProducts || allProducts.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">📦</div>
                        <h3>Товари не знайдено</h3>
                        <p>Наразі каталог порожній</p>
                    </div>
                `;
                return;
            }

            // Показуємо тільки перші 6 товарів на головній
            const featuredProducts = allProducts.slice(0, 6);
            
            container.innerHTML = featuredProducts.map(product => createProductCard(product)).join('');
        }

        // === РЕНДЕРИНГ МАТЕРІАЛІВ ===
        function renderMaterials(products) {
            const container = document.getElementById('materials-grid');
            
            if (!products || products.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">🔍</div>
                        <h3>Товари не знайдено</h3>
                        <p>Спробуйте змінити параметри пошуку</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = products.map(product => createProductCard(product)).join('');
        }

        // === РЕНДЕРИНГ СТАТЕЙ ===
        function renderArticles(articles) {
            const container = document.getElementById('articles-grid');
            
            if (!articles || articles.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">📝</div>
                        <h3>Статті не знайдено</h3>
                        <p>Наразі статей немає</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = articles.map(article => createArticleCard(article)).join('');
        }

        // === СТВОРЕННЯ КАРТОК ТОВАРУ ===
        function createProductCard(product) {
            const features = product.features?.slice(0, 3).map(feature => `<li>${feature}</li>`).join('') || '';
            const price = product.price ? `${product.price.toFixed(0)} грн` : 'Ціна за запитом';
            const image = product.image ? `<img src="${product.image}" alt="${product.name}">` : '🎨';
            
            return `
                <div class="item-card">
                    <div class="item-image">
                        ${image}
                        <div class="item-badge ${product.brand}">${product.brand?.toUpperCase()}</div>
                    </div>
                    <div class="item-content">
                        <h3 class="item-title">${product.name}</h3>
                        <p class="item-description">${product.description || 'Професійна фарба високої якості'}</p>
                        
                        <div class="item-meta">
                            <div class="item-price">${price}</div>
                            ${product.package ? `<div class="item-package">${product.package}</div>` : ''}
                        </div>
                        
                        ${features ? `<ul class="item-features">${features}</ul>` : ''}
                        
                        <div class="item-actions">
                            <button class="btn btn-primary btn-sm" onclick="addToCart(${product.id})">
                                🛒 У кошик
                            </button>
                            <button class="btn btn-outline btn-sm" onclick="showProductDetails(${product.id})">
                                👁️ Детальніше
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // === СТВОРЕННЯ КАРТОК СТАТЕЙ ===
        function createArticleCard(article) {
            const excerpt = article.excerpt || article.content?.substring(0, 150) + '...' || 'Цікава стаття про фарби';
            const image = article.image ? `<img src="${article.image}" alt="${article.title}">` : '📝';
            const publishDate = new Date(article.publishedAt || article.createdAt).toLocaleDateString('uk-UA');
            
            return `
                <div class="item-card article-card">
                    <div class="item-image">
                        ${image}
                    </div>
                    <div class="item-content">
                        <div class="item-meta">
                            <div class="article-date">📅 ${publishDate}</div>
                            <div class="article-status ${article.status}">${article.status === 'published' ? 'Опубліковано' : 'Чернетка'}</div>
                        </div>
                        
                        <h3 class="item-title">${article.title}</h3>
                        <p class="item-description">${excerpt}</p>
                        
                        <div class="item-actions">
                            <button class="btn btn-primary" onclick="readArticle(${article.id})">
                                📖 Читати статтю
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // === ФІЛЬТРАЦІЯ МАТЕРІАЛІВ ===
        function filterMaterials() {
            const searchTerm = document.getElementById('search-input')?.value.toLowerCase() || '';
            const brandFilter = document.getElementById('brand-filter')?.value || '';
            const categoryFilter = document.getElementById('category-filter')?.value || '';
            
            filteredProducts = allProducts.filter(product => {
                const matchesSearch = !searchTerm || 
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.description?.toLowerCase().includes(searchTerm);
                    
                const matchesBrand = !brandFilter || product.brand === brandFilter;
                const matchesCategory = !categoryFilter || product.category === categoryFilter;
                
                return matchesSearch && matchesBrand && matchesCategory;
            });
            
            renderMaterials(filteredProducts);
        }

        // === УПРАВЛІННЯ ФІЛЬТРАМИ ===
        function toggleFilters() {
            const content = document.getElementById('filters-content');
            const toggleText = document.getElementById('filters-toggle-text');
            
            if (content.classList.contains('show')) {
                content.classList.remove('show');
                toggleText.textContent = 'Показати фільтри';
            } else {
                content.classList.add('show');
                toggleText.textContent = 'Приховати фільтри';
            }
        }

        function clearFilters() {
            document.getElementById('search-input').value = '';
            document.getElementById('brand-filter').value = '';
            document.getElementById('category-filter').value = '';
            
            filteredProducts = allProducts;
            renderMaterials(filteredProducts);
        }

        // === ВЗАЄМОДІЯ З ТОВАРАМИ ===
        function addToCart(productId) {
            const product = allProducts.find(p => p.id === productId);
            if (!product) return;
            
            // Тут буде логіка додавання в кошик
            alert(`Товар "${product.name}" додано в кошик!`);
            
            // В майбутньому можна зберігати в localStorage
            let cart = JSON.parse(localStorage.getItem('paintyard_cart')) || [];
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: productId,
                    name: product.name,
                    price: product.price,
                    package: product.package,
                    quantity: 1
                });
            }
            
            localStorage.setItem('paintyard_cart', JSON.stringify(cart));
        }

        function showProductDetails(productId) {
            const product = allProducts.find(p => p.id === productId);
            if (!product) return;
            
            // Створюємо модальне вікно з деталями товару
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            const features = product.features?.map(f => `<li>${f}</li>`).join('') || '<li>Професійна якість</li>';
            
            modal.innerHTML = `
                <div style="
                    background: white;
                    border-radius: 8px;
                    max-width: 600px;
                    width: 90%;
                    max-height: 90vh;
                    overflow-y: auto;
                    padding: 2rem;
                ">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h2 style="color: var(--primary-color); margin: 0;">${product.name}</h2>
                        <button onclick="this.closest('div').remove()" style="
                            background: none;
                            border: none;
                            font-size: 1.5rem;
                            cursor: pointer;
                            color: var(--gray-500);
                        ">&times;</button>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 200px 1fr; gap: 2rem; margin-bottom: 1.5rem;">
                        <div style="
                            width: 200px;
                            height: 200px;
                            background: var(--gray-100);
                            border-radius: 8px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 4rem;
                        ">🎨</div>
                        
                        <div>
                            <p><strong>Бренд:</strong> ${product.brand?.toUpperCase()}</p>
                            <p><strong>Категорія:</strong> ${product.category || 'Загальна'}</p>
                            <p><strong>Тара:</strong> ${product.package || 'Не вказано'}</p>
                            <p><strong>Ціна:</strong> <span style="color: var(--primary-color); font-weight: bold; font-size: 1.2rem;">${product.price?.toFixed(0)} грн</span></p>
                            <p><strong>Наявність:</strong> ${product.inStock ? '✅ В наявності' : '❌ Немає в наявності'}</p>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <h4>Опис:</h4>
                        <p style="color: var(--gray-600); line-height: 1.6;">${product.description || 'Професійна фарба високої якості'}</p>
                    </div>
                    
                    <div style="margin-bottom: 2rem;">
                        <h4>Особливості:</h4>
                        <ul style="color: var(--gray-600);">${features}</ul>
                    </div>
                    
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn btn-primary" onclick="addToCart(${product.id}); this.closest('div').remove();">
                            🛒 Додати в кошик
                        </button>
                        <button class="btn btn-outline" onclick="this.closest('div').remove();">
                            Закрити
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Закриття по кліку поза модальним вікном
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        function readArticle(articleId) {
            const article = allArticles.find(a => a.id === articleId);
            if (!article) return;
            
            // Створюємо модальне вікно зі статтею
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            const publishDate = new Date(article.publishedAt || article.createdAt).toLocaleDateString('uk-UA');
            const content = article.content.replace(/\n/g, '<br>').replace(/#{1,3}\s(.+)/g, '<h3 style="color: var(--primary-color); margin: 1.5rem 0 1rem 0;">$1</h3>');
            
            modal.innerHTML = `
                <div style="
                    background: white;
                    border-radius: 8px;
                    max-width: 800px;
                    width: 95%;
                    max-height: 90vh;
                    overflow-y: auto;
                    padding: 0;
                ">
                    <div style="padding: 2rem; border-bottom: 1px solid var(--gray-200);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                            <div>
                                <h1 style="color: var(--gray-900); margin: 0 0 0.5rem 0; line-height: 1.3;">${article.title}</h1>
                                <p style="color: var(--gray-500); margin: 0;">📅 ${publishDate} • ${article.author || 'PaintYard'}</p>
                            </div>
                            <button onclick="this.closest('div').remove()" style="
                                background: none;
                                border: none;
                                font-size: 1.5rem;
                                cursor: pointer;
                                color: var(--gray-500);
                                padding: 0.5rem;
                            ">&times;</button>
                        </div>
                    </div>
                    
                    <div style="padding: 2rem; line-height: 1.7; color: var(--gray-700);">
                        ${content}
                    </div>
                    
                    <div style="padding: 1.5rem 2rem; border-top: 1px solid var(--gray-200); background: var(--gray-50);">
                        <button class="btn btn-outline" onclick="this.closest('div').remove();">
                            Закрити
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Закриття по кліку поза модальним вікном
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // === ОБРОБКА ПОМИЛОК ===
        function showErrorMessage(message) {
            const errorDiv = document.createElement('div');
            errorDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--danger-color);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: var(--shadow-lg);
                z-index: 1000;
            `;
            errorDiv.textContent = message;
            
            document.body.appendChild(errorDiv);
            
            setTimeout(() => {
                errorDiv.remove();
            }, 5000);
        }

        // === КЛАВІАТУРНІ СКОРОЧЕННЯ ===
        document.addEventListener('keydown', function(e) {
            // ESC - закрити модальні вікна
            if (e.key === 'Escape') {
                const modals = document.querySelectorAll('[style*="position: fixed"]');
                modals.forEach(modal => modal.remove());
            }
            
            // Ctrl+K - фокус на пошук
            if (e.ctrlKey && e.key === 'k') {
                e.preventDefault();
                const searchInput = document.getElementById('search-input');
                if (searchInput) {
                    showSection('materials');
                    setTimeout(() => searchInput.focus(), 100);
                }
            }
        });

        // === АВТОМАТИЧНЕ ОНОВЛЕННЯ ДАНИХ ===
        setInterval(async function() {
            try {
                const response = await fetch('database/products.json');
                const data = await response.json();
                
                if (data.lastUpdated && new Date(data.lastUpdated) > new Date(allProducts.lastUpdated || 0)) {
                    console.log('Виявлено оновлення даних, перезавантажуємо...');
                    await loadData();
                }
            } catch (error) {
                // Ігноруємо помилки автоматичного оновлення
            }
        }, 30000); // Перевіряти кожні 30 секунд

        console.log('🎨 PaintYard сайт завантажено успішно!');
        console.log('💡 Корисні скорочення: Ctrl+K (пошук), Esc (закрити модальні вікна)');
    </script>
</body>

</html>

